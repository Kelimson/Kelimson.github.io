import{_ as q,M as z,K as S,r as c,c as b,a as U,o as K,m as n,n as o,q as e,x as p,C as G,E as l,F as O,A as T,L as W}from"./index-pQIcXGxk.js";const $={class:"image-viewer-page"},H={class:"viewer-header"},Q={class:"container"},X={class:"header-content"},Y={class:"header-info"},Z={class:"image-container"},ee={class:"image-wrapper"},se={class:"image-display"},ae=["src","alt"],te={key:1,class:"loading-overlay"},ne={key:2,class:"error-overlay"},oe={key:0,class:"thumbnail-nav"},re={class:"thumbnail-container"},ce=["onClick"],pe=["src","alt"],le={class:"image-info"},ie={class:"container"},fe={class:"info-content"},me={class:"image-meta"},ue={class:"meta-item"},ge={class:"meta-item"},de={__name:"ImageViewer",setup(ve){const _=z(),I=S(),t=c(0),f=c(!0),m=c(!1),P=c(!1),J=b(()=>_.params.category||""),i=c([]),j=c(null),d=b(()=>i.value.length),r=b(()=>i.value[t.value]||null);function u(s){try{return s&&s.startsWith("/src/assets/proof/")?s.replace("/src/assets/proof/","/proof/"):s}catch(a){return console.error("处理图片路径时出错:",a),s}}const E=[{name:"国奖证明",items:[{name:"FPGA竞赛国奖，社团成员：吴静、唐佳俊、费奕泓.png",path:"/src/assets/proof/国奖证明（用于社团影响、社团活动两部分加分）/FPGA竞赛国奖，社团成员：吴静、唐佳俊、费奕泓.png"},{name:"嵌入式国奖，社团成员：邱志亮、朱翔.jpg",path:"/src/assets/proof/国奖证明（用于社团影响、社团活动两部分加分）/嵌入式国奖，社团成员：邱志亮、朱翔.jpg"},{name:"智能车比赛国奖，社团成员：钟愈武.png",path:"/src/assets/proof/国奖证明（用于社团影响、社团活动两部分加分）/智能车比赛国奖，社团成员：钟愈武.png"},{name:"电赛国奖1.jpg",path:"/src/assets/proof/国奖证明（用于社团影响、社团活动两部分加分）/电赛国奖1.jpg"},{name:"电赛国奖2，社团成员：钟愈武.jpg",path:"/src/assets/proof/国奖证明（用于社团影响、社团活动两部分加分）/电赛国奖2，社团成员：钟愈武.jpg"},{name:"电赛国奖3.jpg",path:"/src/assets/proof/国奖证明（用于社团影响、社团活动两部分加分）/电赛国奖3.jpg"}]},{name:"协办大型活动",items:[{name:"2b1c61d7fb3b87a0e0f27050c360ebd.jpg",path:"/src/assets/proof/协办大型活动证明/2b1c61d7fb3b87a0e0f27050c360ebd.jpg"},{name:"78829fe3a031b5cd676c72a8780543f.jpg",path:"/src/assets/proof/协办大型活动证明/78829fe3a031b5cd676c72a8780543f.jpg"},{name:"ccd9862ad1cd1c7b171427737491cdc.jpg",path:"/src/assets/proof/协办大型活动证明/ccd9862ad1cd1c7b171427737491cdc.jpg"},{name:"爬虫比赛.JPG",path:"/src/assets/proof/协办大型活动证明/爬虫比赛.JPG"}]},{name:"特色活动",items:[{name:"焊接比赛.png",path:"/src/assets/proof/特色活动证明/焊接比赛.png"},{name:"爬虫比赛.JPG",path:"/src/assets/proof/特色活动证明/爬虫比赛.JPG"},{name:"电赛校赛.JPG",path:"/src/assets/proof/特色活动证明/电赛校赛.JPG"},{name:"电赛电源宣讲.JPG",path:"/src/assets/proof/特色活动证明/电赛电源宣讲.JPG"},{name:"社团见面会证明0.png",path:"/src/assets/proof/特色活动证明/社团见面会证明0.png"},{name:"社团见面会证明1.png",path:"/src/assets/proof/特色活动证明/社团见面会证明1.png"},{name:"竞赛宣讲 2.png",path:"/src/assets/proof/特色活动证明/竞赛宣讲 2.png"},{name:"竞赛宣讲.png",path:"/src/assets/proof/特色活动证明/竞赛宣讲.png"}]},{name:"社团大会",items:[{name:"社内培训2月.png",path:"/src/assets/proof/社团大会证明/社内培训2月.png"},{name:"社团培训10月.jpg",path:"/src/assets/proof/社团大会证明/社团培训10月.jpg"},{name:"社团培训1月.png",path:"/src/assets/proof/社团大会证明/社团培训1月.png"},{name:"社团大会11月.png",path:"/src/assets/proof/社团大会证明/社团大会11月.png"},{name:"社团大会3月.png",path:"/src/assets/proof/社团大会证明/社团大会3月.png"},{name:"社团见面会兼社团第一次大会1.png",path:"/src/assets/proof/社团大会证明/社团见面会兼社团第一次大会1.png"},{name:"社团见面会兼社团第一次大会2.png",path:"/src/assets/proof/社团大会证明/社团见面会兼社团第一次大会2.png"}]},{name:"常规活动",items:[{name:"008e29cf6f4d537ac6158f71ba12742.jpg",path:"/src/assets/proof/常规活动证明/008e29cf6f4d537ac6158f71ba12742.jpg"},{name:"1E8BE388FD0FD200014DF42FAE23E6CC.png",path:"/src/assets/proof/常规活动证明/1E8BE388FD0FD200014DF42FAE23E6CC.png"},{name:"3afcab1be618e24ba6de6ba80e2d029.jpg",path:"/src/assets/proof/常规活动证明/3afcab1be618e24ba6de6ba80e2d029.jpg"},{name:"521f27c59f67472a9ce0e26876159f1.jpg",path:"/src/assets/proof/常规活动证明/521f27c59f67472a9ce0e26876159f1.jpg"},{name:"a453f68efa641929c234b1fcf9e173b.jpg",path:"/src/assets/proof/常规活动证明/a453f68efa641929c234b1fcf9e173b.jpg"},{name:"IMG_6441.JPG",path:"/src/assets/proof/常规活动证明/IMG_6441.JPG"},{name:"IMG_6442.JPG",path:"/src/assets/proof/常规活动证明/IMG_6442.JPG"},{name:"IMG_6443.JPG",path:"/src/assets/proof/常规活动证明/IMG_6443.JPG"},{name:"IMG_6444.JPG",path:"/src/assets/proof/常规活动证明/IMG_6444.JPG"},{name:"IMG_6445.JPG",path:"/src/assets/proof/常规活动证明/IMG_6445.JPG"},{name:"IMG_6446.JPG",path:"/src/assets/proof/常规活动证明/IMG_6446.JPG"},{name:"IMG_6457.JPG",path:"/src/assets/proof/常规活动证明/IMG_6457.JPG"},{name:"IMG_6458.PNG",path:"/src/assets/proof/常规活动证明/IMG_6458.PNG"},{name:"IMG_8220.JPG",path:"/src/assets/proof/常规活动证明/IMG_8220.JPG"},{name:"IMG_9973(20230310-183051).JPG",path:"/src/assets/proof/常规活动证明/IMG_9973(20230310-183051).JPG"}]},{name:"成员荣誉",items:[{name:"我社成员宋金鑫、徐翰文获2024年度科创之星称号.png",path:"/src/assets/proof/大型活动参与证明/我社成员宋金鑫、徐翰文获2024年度科创之星称号.png"},{name:"我社成员徐翰文获2023年年度任务荣誉.png",path:"/src/assets/proof/大型活动参与证明/我社成员徐翰文获2023年年度任务荣誉.png"},{name:"我社成员蔡玉垚获2024年五四标兵荣誉.png",path:"/src/assets/proof/大型活动参与证明/我社成员蔡玉垚获2024年五四标兵荣誉.png"},{name:"我社成员许毅宁获2024年五四标兵荣誉.png",path:"/src/assets/proof/大型活动参与证明/我社成员许毅宁获2024年五四标兵荣誉.png"}]},{name:"指导老师活动",items:[{name:"指导老师参加活动1.png",path:"/src/assets/proof/指导老师参加活动证明/指导老师参加活动1.png"},{name:"指导老师参加活动2.png",path:"/src/assets/proof/指导老师参加活动证明/指导老师参加活动2.png"},{name:"指导老师参加活动3.JPG",path:"/src/assets/proof/指导老师参加活动证明/指导老师参加活动3.JPG"},{name:"指导老师参加活动4.jpg",path:"/src/assets/proof/指导老师参加活动证明/指导老师参加活动4.jpg"},{name:"指导老师参加活动5.JPG",path:"/src/assets/proof/指导老师参加活动证明/指导老师参加活动5.JPG"},{name:"指导老师参加活动6.JPG",path:"/src/assets/proof/指导老师参加活动证明/指导老师参加活动6.JPG"}]}];function w(){const s=E.find(a=>a.name===J.value);s&&(j.value=s,i.value=s.items.filter(a=>F(a.name)).map(a=>({...a,path:u(a.path)})),t.value=parseInt(_.params.index)||0)}function F(s){const a=[".jpg",".jpeg",".png",".gif",".bmp",".webp"],g=s.toLowerCase().substring(s.lastIndexOf("."));return a.includes(g)}function k(){I.push("/achievements")}function y(){t.value>0&&(t.value--,v())}function M(){t.value<d.value-1&&(t.value++,v())}function x(s){t.value=s,v()}function v(){I.replace({name:"ImageViewer",params:{category:J.value,index:t.value}})}function D(){f.value=!1,m.value=!1}function L(){f.value=!1,m.value=!0}function A(){f.value=!0,m.value=!1;const s=document.querySelector(".main-image");s&&(s.src=s.src)}function N(){if(r.value){const s=document.createElement("a");s.href=u(r.value.path),s.download=r.value.name,document.body.appendChild(s),s.click(),document.body.removeChild(s)}}function B(){document.fullscreenElement?(document.exitFullscreen(),P.value=!1):(document.documentElement.requestFullscreen(),P.value=!0)}function V(s){return s?s.substring(s.lastIndexOf(".")):""}function R(s){return s.toLocaleDateString("zh-CN")}function C(s){switch(s.key){case"ArrowLeft":y();break;case"ArrowRight":M();break;case"Escape":k();break}}return U(()=>{w(),document.addEventListener("keydown",C)}),K(()=>{document.removeEventListener("keydown",C)}),(s,a)=>(o(),n("div",$,[e("div",H,[e("div",Q,[e("div",X,[e("button",{class:"back-btn",onClick:k},[...a[0]||(a[0]=[e("i",{class:"fa fa-arrow-left"},null,-1),G(" 返回成果展示 ",-1)])]),e("div",Y,[e("h2",null,l(j.value?.name||"图片查看"),1),e("p",null,l(t.value+1)+" / "+l(d.value),1)]),e("div",{class:"header-actions"},[e("button",{class:"action-btn",onClick:N,title:"下载图片"},[...a[1]||(a[1]=[e("i",{class:"fa fa-download"},null,-1)])]),e("button",{class:"action-btn",onClick:B,title:"全屏"},[...a[2]||(a[2]=[e("i",{class:"fa fa-expand"},null,-1)])])])])])]),e("div",Z,[e("div",ee,[t.value>0?(o(),n("button",{key:0,class:"nav-btn prev-btn",onClick:y},[...a[3]||(a[3]=[e("i",{class:"fa fa-chevron-left"},null,-1)])])):p("",!0),e("div",se,[r.value?(o(),n("img",{key:0,src:u(r.value.path),alt:r.value.name,class:"main-image",onLoad:D,onError:L},null,40,ae)):p("",!0),f.value?(o(),n("div",te,[...a[4]||(a[4]=[e("div",{class:"loading-spinner"},[e("i",{class:"fa fa-spinner fa-spin"}),e("p",null,"加载中...")],-1)])])):p("",!0),m.value?(o(),n("div",ne,[e("div",{class:"error-content"},[a[5]||(a[5]=e("i",{class:"fa fa-exclamation-triangle"},null,-1)),a[6]||(a[6]=e("p",null,"图片加载失败",-1)),e("button",{class:"retry-btn",onClick:A},"重试")])])):p("",!0)]),t.value<d.value-1?(o(),n("button",{key:1,class:"nav-btn next-btn",onClick:M},[...a[7]||(a[7]=[e("i",{class:"fa fa-chevron-right"},null,-1)])])):p("",!0)])]),i.value.length>1?(o(),n("div",oe,[e("div",re,[(o(!0),n(O,null,T(i.value,(g,h)=>(o(),n("div",{key:h,class:W(["thumbnail-item",{active:h===t.value}]),onClick:he=>x(h)},[e("img",{src:u(g.path),alt:g.name,class:"thumbnail-image"},null,8,pe)],10,ce))),128))])])):p("",!0),e("div",le,[e("div",ie,[e("div",fe,[e("h3",null,l(r.value?.name),1),e("div",me,[e("span",ue,[a[8]||(a[8]=e("i",{class:"fa fa-file-image-o"},null,-1)),G(" "+l(V(r.value?.name)),1)]),e("span",ge,[a[9]||(a[9]=e("i",{class:"fa fa-calendar"},null,-1)),G(" "+l(R(new Date)),1)])])])])])]))}},Ge=q(de,[["__scopeId","data-v-14d84f1b"]]);export{Ge as default};
